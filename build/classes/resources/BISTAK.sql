/*Egindako bista XML-rako*/

CREATE OR REPLACE VIEW BISTA_LANGILE_INFORMAZIOA AS 
	SELECT LANGILE.ID, LANGILE.IZENA, LANGILE.ABIZENA, LANGILE.EMAILA, LANGILE.TELEFONOA, LANGILE.KONTRATAZIO_DATA, LANGILE.ID_NAGUSI, 
    N.IZENA AS NAGUSI_IZENA, 
    N.ABIZENA AS NAGUSI_ABIZENA, BULEGARI.ID_LANPOSTU, 
    LANPOSTU.DESKRIBAPENA AS LANPOSTU_DESK, SALTZAILE.ERABILTZAILEA, SALTZAILE.PASAHITZA 
    FROM LANGILE
    LEFT JOIN LANGILE N 
		ON LANGILE.ID_NAGUSI = n.ID 
	LEFT JOIN BULEGARI 
		ON LANGILE.ID = BULEGARI.ID 
	LEFT JOIN LANPOSTU 
		ON BULEGARI.ID_LANPOSTU = LANPOSTU.ID 
	LEFT JOIN SALTZAILE 
		ON LANGILE.ID = SALTZAILE.ID;

SELECT * FROM BISTA_LANGILE_INFORMAZIOA;

/* Erabiltzaile taula bistaratu */

CREATE OR REPLACE VIEW ERABILTZAILE_TAULA_BISTARATU AS 
	SELECT * FROM ERABILTZAILEAK;
    
SELECT * FROM ERABILTZAILE_TAULA_BISTARATU;